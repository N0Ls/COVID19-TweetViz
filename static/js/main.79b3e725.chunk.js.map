{"version":3,"sources":["data/data.csv","utils/arrays.js","components/visualization/AxisLeft.js","store/StoreContext.js","store/StoreDispatchContext.js","components/visualization/Marks.js","components/visualization/Tweet.js","badge.png","App.js","hooks/useData.js","reportWebVitals.js","store/StoreProvider.jsx","utils/createReducer.js","index.js"],"names":["filterObjs","fn","a","f","i","length","push","fil","AxisLeft","yScale","innerWidth","innerHeight","ticks","map","tickValue","className","transform","x2","x","dy","style","textAnchor","color","toLocaleString","month","day","StoreContext","createContext","undefined","useStoreContext","context","useContext","Error","StoreDispatchContext","useStoreDispatchContext","Marks","data","xScale","xValue","yValue","veracity","state","dispatch","colors","blue","rgb","rose","default","getColor","str","d","cx","isNaN","cy","r","influenceNumber","fill","selected","id","stroke","onClick","type","select","Tweet","user_name","user_verified","src","alt","user_screen_name","text","formatedDate","getHours","getMinutes","getDate","getMonth","getYear","retweet_count","favorite_count","margin","siFormat","format","xAxisTickFormat","replace","App","useState","filteredTweets","setFilteredTweets","setData","useEffect","csv","csvUrl","Date","parse","created_at","then","parseFloat","getFullYear","useData","tweets","tweet","scaleTime","domain","min","max","range","nice","scaleLinear","fy","forceSimulation","force","forceCollide","stop","tick","width","height","tooltipFormat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","useReducer","createReducer","actionTypes","provide","update","toggle","appInitialState","tweetsReducer","action","selectedReducer","typeReducer","appReducer","StoreProvider","children","Provider","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.79b3e725.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/data.0c5f679a.csv\";","const fil = (fn, a) => {\r\n  const f = [];\r\n  for (let i = 0; i < a.length; i++) {\r\n    if (fn(a[i])) {\r\n      f.push(a[i]);\r\n    }\r\n  }\r\n  return f;\r\n};\r\n\r\nconst filterObjs = fn => a => fil(fn, a);\r\n\r\nexport { fil, filterObjs }","export const AxisLeft = ({ yScale, innerWidth, innerHeight }) =>\r\n  yScale.ticks().map((tickValue) => (\r\n    <g\r\n      className=\"tick\"\r\n      key={tickValue}\r\n      transform={`translate(0,${yScale(tickValue)})`}\r\n    >\r\n      <line x2={innerWidth} />\r\n      <text x={-50} dy={\"0.3em\"} style={{ textAnchor: \"middle\", color : \"white\" }}>\r\n        {tickValue.toLocaleString([], { month: \"short\", day: \"2-digit\" })}\r\n      </text>\r\n    </g>\r\n  ));\r\n","import { createContext, useContext } from 'react'\r\n\r\nexport const StoreContext = createContext(undefined)\r\n\r\nexport const useStoreContext = () => {\r\n  const context = useContext(StoreContext)\r\n\r\n  if (context === undefined) {\r\n    throw new Error('useStoreContext must be used within a Store provider')\r\n  }\r\n\r\n  return context\r\n}\r\n","import { createContext, useContext } from 'react'\r\n\r\nexport const StoreDispatchContext = createContext(undefined)\r\n\r\nexport const useStoreDispatchContext = () => {\r\n  const context = useContext(StoreDispatchContext)\r\n\r\n  if (context === undefined) {\r\n    throw new Error('useStoreDispatchContext must be used within a Store provider')\r\n  }\r\n\r\n  return context\r\n}\r\n","import { rgb } from \"d3-color\";\r\nimport { useStoreContext } from \"../../store/StoreContext\";\r\nimport { useStoreDispatchContext } from \"../../store/StoreDispatchContext\";\r\n\r\nexport const Marks = ({ data, xScale, xValue, yScale, yValue, veracity }) => {\r\n  const state = useStoreContext();\r\n  const dispatch = useStoreDispatchContext();\r\n\r\n  const colors = {\r\n    blue: rgb(118, 203, 236),\r\n    rose: rgb(236, 99, 147),\r\n    default: rgb(155, 155, 155),\r\n  };\r\n\r\n  const getColor = (str) => {\r\n    switch (str) {\r\n      case \"fake\":\r\n        return colors.rose;\r\n      case \"real\":\r\n        return colors.blue;\r\n      default:\r\n        return colors.default;\r\n    }\r\n  };\r\n\r\n  const select = (d) => {\r\n    dispatch({ type: \"selected/update\", data: d });\r\n  };\r\n\r\n  return data.map((d) => (\r\n    <circle\r\n      className=\"mark\"\r\n      key={yValue(d) + d.influenceNumber}\r\n      cx={isNaN(xScale(xValue(d))) ? 0 : xScale(xValue(d))}\r\n      cy={yScale(yValue(d))}\r\n      r={d.influenceNumber * 0.4}\r\n      style={{ fill: state.selected && d.id === state.selected.id ? 'transparent' : getColor(veracity(d)),\r\n    stroke: state.selected && d.id === state.selected.id ? getColor(veracity(d)) : '' }}\r\n      onClick={() => select(d)}\r\n    />\r\n  ));\r\n};","import image from '../../badge.png'\r\nexport const Tweet = ({ d }) => {\r\n\r\nreturn(<>\r\n    {d && (\r\n      <div className=\"tweet\">\r\n        <div className=\"user_infos\">\r\n          <div className=\"user_name\">\r\n            <h2 className=\"user_display_name\">\r\n              {d.user_name}{d.user_verified?<img className='badge' src={image} alt='verified badge'/>:<></>}\r\n            </h2>\r\n            <h3 className=\"user_handle\">@{d.user_screen_name}</h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"tweet_content\">\r\n          <p className=\"tweet_text\">{d.text}</p>\r\n          {/*<img className=\"tweet_media\" alt=\"tweet media\" src={d.media} /> */}\r\n        </div>\r\n        <div className=\"tweet_footer\">\r\n          <div className=\"tweet_date\">\r\n            {d.formatedDate.getHours() < 10 ? \"0\"+d.formatedDate.getHours():d.formatedDate.getHours()}\r\n            :\r\n            {d.formatedDate.getMinutes()< 10 ? \"0\" +d.formatedDate.getMinutes():d.formatedDate.getMinutes()}\r\n            {\" \"} Â· {\" \"}\r\n            {d.formatedDate.getDate()}/{d.formatedDate.getMonth() + 1 < 10 ? \"0\"+(d.formatedDate.getMonth() + 1):d.formatedDate.getMonth() + 1}/\r\n            {d.formatedDate.getYear()}\r\n          </div>\r\n          <div className=\"tweet_influence\">\r\n            <div><span>{d.retweet_count}</span> <span className=\"fas fa-retweet\"></span> </div>   \r\n            <div><span>{d.favorite_count}</span> <span className=\"fas fa-heart\"></span></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n  </>)\r\n}\r\n;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC4lBMVEUAAAAgn+8dofIdofMdovIcofIcofIdofIdofIdofIdofIdoPIhpe8XovMeofIeovMdoPIdofIdovIXougdofMdofIdofIdofMdoPIVquofo/UeofEdofIcovMfovAYnvMcofIdofIdofIdofIenvAameYdovIdofIdofIUnescovEdofIdofIeoPEdofIeovIcnPEbn/EdofIdofEcovMeoPMdofIeofIzmf8dovEdofIrqv8kkv8doPIeofIcofEdovIbofIdofIdofIdovIgn/8A//8doPEcofIdovMcofMeofIdnfUdofIaou4eofIdofIAqv8doPMcofEhpvQcofYapvIbo/QeoPAepPMepfAeofIdofEeoPMdovAeofQbofIbn/QAv/8covMdofMdofIdovIdoPEfovMcofEdovIcofIdofIdofIdofIdoPIdoPIcn/EdoPMdofIcofIdovMdofIdofIeovMeofIdofEdoPEdoPEdoPIcofEdo/Ieo/AdofIao/IAgP8eofIeofEdofIcofIeofIdofEdoPMcovMeovEcofEeoPIco/EdofIdoPMdofIdoPIdofMeofIdovEcofEfo/AdoPAime4dofIfoPEcoPMdofIdovIgn+8dofIdn/Ecn/MfovMdofIanvYdofIdofIdofIcoPEdofIdofIdofMdofIkpO0dofEeofMcovEdoPAeovIeofIdofIdoPMdovEdoPIcofIcovEdofIeovIdovIeovIfoe8cofIeoPEcovIdofMdofIdoPIdoPEbofIdofIdofIbofMeoPIdofMdofIdofMdofIcofIeofMdoPMfo/IdofIdofMcqv8eofEdovMdofIdofIgn/Qdo/IcofMdofEeoPEdofIeofMbpPYdovIcovIeoPQcofQdofIdoPEcofIcofIdovIcn/Qgn/IcofEeofIdofMeovEcoPIdofL////XtYP+AAAA9HRSTlMAIE99ob3X7O7+604fFl+k6OdgC7j7/LlhDBmA8ZEhFYj4/aoiCob2jQ1K3+ZeoKwS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\"","import \"./App.css\";\r\nimport \"./index.css\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  scaleLinear,\r\n  scaleTime,\r\n  min,\r\n  max,\r\n  format,\r\n  forceSimulation,\r\n  forceCollide,\r\n} from \"d3\";\r\nimport { useData } from \"./hooks/useData\";\r\nimport { AxisBottom } from \"./components/visualization/AxisBottom\";\r\nimport { AxisLeft } from \"./components/visualization/AxisLeft\";\r\nimport { Marks } from \"./components/visualization/Marks\";\r\nimport { useStoreContext } from \"./store/StoreContext\";\r\nimport { useStoreDispatchContext } from \"./store/StoreDispatchContext\";\r\nimport { filterObjs } from \"./utils/arrays\";\r\nimport { Tweet } from \"./components/visualization/Tweet\";\r\n\r\nconst width = 1500;\r\nconst height = 6000;\r\nconst margin = { left: 150, right: 20, bottom: 100, top: 50 };\r\n\r\nconst innerHeight = height - margin.top - margin.bottom;\r\nconst innerWidth = width - margin.left - margin.right;\r\n\r\nconst xAxisLabelOffset = 60;\r\n\r\nconst yValue = (d) => d.formatedDate;\r\nconst xValue = (d) => d.x;\r\nconst veracity = (d) => d.veracity;\r\n\r\nconst siFormat = format(\".2s\");\r\nconst xAxisTickFormat = (tickValue) => siFormat(tickValue).replace(\"G\", \"B\");\r\n\r\nconst App = () => {\r\n  // const [data, setData] = useState(null);\r\n  const [filteredTweets, setFilteredTweets] = useState(null);\r\n\r\n  const state = useStoreContext();\r\n  const dispatch = useStoreDispatchContext();\r\n\r\n  const data = useData();\r\n\r\n  useEffect(() => {\r\n    if (!state.tweets && data) dispatch({ type: \"tweets/provide\", data: data });\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    if (state.tweets) {\r\n      setFilteredTweets(\r\n        filterObjs((tweet) => tweet.type === state.type)(state.tweets)\r\n      );\r\n    }\r\n  }, [state.tweets, state.type]);\r\n\r\n  // useEffect(() => {\r\n  //   if (filteredTweets) {\r\n  //     dispatch({ type: \"selected/update\", data: filteredTweets[0] });\r\n  //     console.log(filteredTweets[0])\r\n  //   }\r\n  // }, [filteredTweets]);\r\n\r\n  if (!data || !filteredTweets) {\r\n    return <div style={{ color: \"white\" }}>Loading...</div>;\r\n  }\r\n\r\n  // dispatch({ type: \"selected/update\", data: filteredTweets[0] });\r\n\r\n  const toggle = () => {\r\n    dispatch({ type: \"type/toggle\" });\r\n    setFilteredTweets(\r\n      filterObjs((tweet) => tweet.type === state.type)(state.tweets)\r\n    );\r\n  };\r\n\r\n  let simulation = null;\r\n\r\n  const yScale = scaleTime()\r\n    .domain([min(filteredTweets, yValue), max(filteredTweets, yValue)])\r\n    .range([0, innerHeight])\r\n    .nice();\r\n\r\n  const xScale = scaleLinear()\r\n    .domain([min(filteredTweets, xValue), max(filteredTweets, xValue)])\r\n    .range([0, innerWidth]);\r\n\r\n  filteredTweets.map((d) => (d.fy = yScale(yValue(d))));\r\n\r\n  if (filteredTweets) {\r\n    simulation = forceSimulation(filteredTweets)\r\n      .force(\r\n        \"collide\",\r\n        forceCollide((d) => d.influenceNumber*0.4 + 5)\r\n      )\r\n      .stop()\r\n      .tick(240);\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className=\"Viz\">\r\n      <div className=\"Infos\">\r\n        <button className=\"switch_button\" onClick={toggle}>Switch</button>\r\n        <Tweet d={state.selected}></Tweet>\r\n      </div>\r\n      <div className=\"Graph\">\r\n        <h1 className=\"title\">COVID19 - Tweet Viz : <span className=\"data_type\">{state.type===\"claim\"?state.type+\"s\":state.type}</span> </h1>\r\n        <svg width={width} height={height}>\r\n          <g transform={`translate(${margin.left}, ${margin.top})`}>\r\n            <AxisLeft yScale={yScale} innerWidth={innerWidth} innerHeight={innerHeight}/>\r\n            <Marks\r\n              data={filteredTweets}\r\n              xScale={xScale}\r\n              yScale={yScale}\r\n              xValue={xValue}\r\n              yValue={yValue}\r\n              tooltipFormat={xAxisTickFormat}\r\n              veracity={veracity}\r\n            />\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { useState, useEffect } from \"react\";\r\nimport { csv } from \"d3\";\r\nimport csvUrl from \"../data/data.csv\";\r\nimport { filterObjs } from '../utils/arrays'\r\n\r\nexport const useData = () => {\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const row = (d) => {\r\n      d.formatedDate = new Date(Date.parse(d.created_at));\r\n      return d;\r\n    };\r\n    csv(csvUrl, row).then((data) => {\r\n      setData(\r\n        filterObjs(d => parseFloat(d.influenceNumber) > 30 &&\r\n        d.formatedDate.getFullYear() > 2019)(data));\r\n    });\r\n  }, []);\r\n\r\n  return data;\r\n};\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\n\r\nimport { StoreContext } from \"./StoreContext\";\r\nimport { StoreDispatchContext } from \"./StoreDispatchContext\";\r\nimport createReducer from \"../utils/createReducer\";\r\n\r\nconst useReducer = createReducer();\r\n\r\nconst actionTypes = {\r\n  tweets: {\r\n    provide: \"tweets/provide\",\r\n  },\r\n  selected: {\r\n    update: \"selected/update\",\r\n  },\r\n  type: {\r\n    toggle: \"type/toggle\",\r\n  },\r\n};\r\n\r\nconst appInitialState = {\r\n  tweets: null,\r\n  selected: null,\r\n  type: \"news\",\r\n};\r\n\r\nconst tweetsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.tweets.provide: {\r\n      return action.data;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst selectedReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.selected.update: {\r\n      return action.data;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst typeReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.type.toggle: {\r\n      return state === \"news\" ? \"claim\" : \"news\";\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst appReducer = (state, action) => {\r\n  return {\r\n    tweets: tweetsReducer(state.tweets, action),\r\n    selected: selectedReducer(state.selected, action),\r\n    type: typeReducer(state.type, action),\r\n  };\r\n};\r\n\r\nconst StoreProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(appReducer, appInitialState);\r\n\r\n  return (\r\n    <StoreDispatchContext.Provider value={dispatch}>\r\n      <StoreContext.Provider value={state}>{children}</StoreContext.Provider>\r\n    </StoreDispatchContext.Provider>\r\n  );\r\n};\r\n\r\nexport default StoreProvider;\r\n","import { useReducer } from 'react'\r\n\r\nconst createReducer = () => {\r\n  return useReducer\r\n}\r\n\r\nexport default createReducer\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport StoreProvider from \"./store/StoreProvider\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StoreProvider>\r\n      <App />\r\n    </StoreProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}